---
import Layout from "../../layouts/Layout.astro";
import { DEFAULT_LANG } from "../../config.i18n";
import { t } from "../../i18n";
import { getEntry, render as renderEntry } from "astro:content";

interface Props {
  lang: string;
}

const { lang } = Astro.props as Props;

const collection = lang && lang !== DEFAULT_LANG ? `pages_${lang}` : 'pages';

const entry = (await getEntry(collection as never, 'about' as never))
  ?? (collection !== 'pages' ? await getEntry('pages' as never, 'about' as never) : undefined);
if (!entry) {
  throw new Error('About page content not found');
}
const { Content: AboutContent } = await (renderEntry as any)(entry);
---

<Layout title={t('page.about', lang)}>
  <div class="prose prose-lg mx-auto p-4 dark:prose-invert text-content">
    <h1 class="not-prose page-title mb-4 text-content quiet-bold">
      {t('nav.about', lang)}
    </h1>
    <!-- eslint-disable-next-line -->
    <AboutContent />
  </div>
</Layout> 